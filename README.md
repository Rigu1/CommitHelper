# CommitHelper

## 기능 목록

### Git 변경 사항(Diff) 감지 및 추출하기

- [x] 현재 스테이징된 변경 사항(git diff --staged) 가져오기
    - [x] System.Diagnostics.Process를 활용해 Git 명령어 실행하기
    - [x] ⚠️ Git이 설치되어 있지 않은 경우 예외가 발생한다.
    - [x] ⚠️ 스테이징된 파일이 없는 경우 예외가 발생한다.
    - [x] ⚠️ Diff 내용이 토큰 제한을 넘는 경우 예외가 발생한다.

### AI 커밋 메시지 생성하기 (Default: gemini)

- [x] OpenAI API에 프롬프트 전송하기
    - [x] ⚠️ API Key가 없거나 유효하지 않은 경우(AuthenticationError) 예외를 처리한다.
    - [x] ⚠️ 네트워크 연결 실패 또는 타임아웃 발생 시 재시도 하거나 적절한 에러 메시지를 출력한다.


- [x] 시스템 프롬프트 설정 (Role: 전문 개발자, Format: Conventional Commits)
    - [x] 기본적으로 설정된 컨텍스트를 기반으로 시스템 프롬프트를 설정한다.
    - [x] 유저가 해당 컨텍스트를 수정하여 활용할 수 있도록 한다.


- [x] 응답받은 JSON/텍스트 파싱하여 커밋 메시지 추출하기
    - [x] 커밋 메시지를 추출한다.

### 사용자 제안 및 커밋 확정하기

- [x] 생성된 메시지 출력 및 사용자 입력 받기 (y/n/m)
    - [x] ⚠️ y, n, m 이외의 값이 입력되면 재입력을 요청한다.


- [x] 커밋 실행하기
    - [x] 메시지에 특수문자가 포함된 경우 이스케이프 처리하여 명령어가 깨지지 않도록 한다.
    - [x] 커밋 완료 후 결과를 출력한다.
